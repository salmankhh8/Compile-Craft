<div class="parent">
  <div class="codeHistoryContainer">
    <!-- <mat-form-field>
        <mat-label>Filter</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
      </mat-form-field> -->
    <div class="title">
       <!-- <mat-icon class="code" matPrefix aria-hidden="false" fontIcon="deployed_code"></mat-icon> -->
       <img class="avg_pace" src="../../assets/icons/deployed_code_FILL0_wght400_GRAD0_opsz24.svg" alt="">
       Saved Code</div>
    <div class="mat-elevation-z8" #tableContainer>
      <table mat-table [dataSource]="dataSource2" matSort>

        <ng-container matColumnDef="question">
          <th mat-header-cell class="table_l" sticky="true" *matHeaderCellDef mat-sort-header> {{'question' | titlecase}} </th>
          <td mat-cell *matCellDef="let row"> {{row.question}}</td>
        </ng-container>

        <ng-container matColumnDef="title">
          <th mat-header-cell class="table_m" sticky="true" *matHeaderCellDef mat-sort-header> {{'Type' | titlecase}} </th>
          <td mat-cell *matCellDef="let row"> {{row.title}} </td>
        </ng-container>

        <ng-container matColumnDef="language">
          <th mat-header-cell *matHeaderCellDef sticky="true" mat-sort-header> {{'language'| titlecase}} </th>
          <td mat-cell *matCellDef="let row"> <fa-icon style="display: flex; justify-content: space-around; font-size: large; " [style]="{'color': row.iconObj.color}" [class]="row.iconObj.icon"></fa-icon></td>
        </ng-container>
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef sticky="true" > {{'action'| titlecase}} </th>
          <td mat-cell *matCellDef="let row"> <i (click)="linkClicked(row,'savedCode')" style="display: flex; justify-content: space-around; cursor: pointer;" class="fa-regular fa-pen-to-square"></i></td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns2; sticky:true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
        <!-- <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
              </tr> -->
      </table>

      <mat-paginator class="mat-paginator" [pageSizeOptions]="[10]"
        aria-label="Select page of users"></mat-paginator>
    </div>
  </div>
  <div class="borer"></div>
  <div class="rightPlane">
    <div class="bottomRight">
      <div class="trendingBarChart">
        <div class="title">
           <!-- <mat-icon class="code" matPrefix aria-hidden="false" fontIcon="avg_pace"></mat-icon> -->
           <img class="avg_pace" src="../../assets/icons/avg_pace_FILL0_wght400_GRAD0_opsz24.svg" alt="">
          Daily Analysis</div>
        <div class="chart">
          <apx-chart #chart [series]="lineChartSeries" [chart]="lineChartOptions.chart" [labels]="lineChartOptions.annotations"
           [dataLabels]="lineChartOptions.dataLabels" [fill]="lineChartOptions.fill" [tooltip]="lineChartOptions.tooltip" [yaxis]="lineChartOptions.yaxis"
           [xaxis]="lineChartOptions.xaxis"
          [responsive]="lineChartOptions.responsive" [stroke]="lineChartOptions.stroke" [grid]="lineChartOptions.grid"
          [legend]="lineChartOptions.legend"></apx-chart>
        </div>   
      </div>
    </div>
    <div class="rightMidBorder"></div>
    <div class="topRight">
      <div class="trendingList">
        <div class="title"> 
          <mat-icon class="code" matPrefix aria-hidden="false" fontIcon="trending_up"></mat-icon>
          Trending Code</div>
        <div class="trendingQuestion">
          <mat-list>
            @for (item of trendingQuestions; track item.question ) {
            <mat-list-item>
              <!-- <mat-icon matListItemIcon aria-hidden="false" aria-label="Example home icon" [fontIcon]="item.icon"></mat-icon> -->
              <div matListItemTitle>
                <!-- #FFA500 ,#EFD81D #3776AB -->
                <fa-icon [style]="{'color': item.iconObj.color}" [class]="item.iconObj.icon"></fa-icon>
                <div class="content">
                  {{item.question}}
                </div>
                <div class="icons">
                  <mat-icon class="code" (click)="linkClicked(item, 'code')" matIconSuffix aria-hidden="false"
                    aria-label="Example home icon" fontIcon="code"></mat-icon>
                  <!-- <fa-icon style="margin-left: 5px;" [icon]="faCodepen"></fa-icon> -->
                  <mat-icon class="link" (click)="linkClicked(item, 'redirect')" matIconSuffix aria-hidden="false"
                    aria-label="Example home icon" fontIcon="link"></mat-icon>
                </div>
              </div>
            </mat-list-item>
            }
          </mat-list>
        </div>
      </div>
      <div class="pieChart" *ngIf="isChartLoaded">
        <div class="title"> <mat-icon class="code">analytics</mat-icon>
          DSA Analysis</div>
          <div class="chart">
            <apx-chart #chart [series]="chartOptions.series" [chart]="chartOptions.chart" [labels]="chartOptions.labels"
            [plotOptions]="chartOptions.plotOptions" [dataLabels]="chartOptions.dataLabels"
            [responsive]="chartOptions.responsive" [stroke]="chartOptions.stroke"
            [legend]="chartOptions.legend"></apx-chart>
          </div>
            <div class="icons" *ngIf="isChartLoaded">
          <!-- <span class="material-symbols-outlined">
            analytics
            </span> -->
            @for (item of iconsArr; track $index) {
              <div class="icon" >
                <fa-icon (click)="upateChartData($index)" [ngStyle]="{'color': item.active? item.iconObj.color:'#acabab'}" [class]="item.iconObj.icon"></fa-icon>
              </div>
            }
          <!-- <button (click)="updateChart()">updateChart</button> -->
        </div>

        <!-- <button (click)="updateChart()">UpdateData</button> -->
      </div>
    </div>
  </div>
</div>